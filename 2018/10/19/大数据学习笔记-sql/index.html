<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/avatar-6.png?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, Jony">










<meta name="description" content="表1： websites123456789101112mysql&amp;gt; select * from websites;+----+--------------+---------------------------+-------+---------+| id | name         | url                       | alexa | country |+----+">
<meta property="og:type" content="article">
<meta property="og:title" content="大数据学习笔记-sql">
<meta property="og:url" content="http://yoursite.com/2018/10/19/大数据学习笔记-sql/index.html">
<meta property="og:site_name" content="My Love">
<meta property="og:description" content="表1： websites123456789101112mysql&amp;gt; select * from websites;+----+--------------+---------------------------+-------+---------+| id | name         | url                       | alexa | country |+----+">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://coolshell.cn/wp-content/uploads/2011/01/Inner_Join.png">
<meta property="og:image" content="http://www.runoob.com/wp-content/uploads/2013/09/img_rightjoin.gif">
<meta property="og:image" content="https://coolshell.cn/wp-content/uploads/2011/01/Full_Outer_Join.png">
<meta property="og:image" content="https://coolshell.cn/wp-content/uploads/2011/01/SQL-Join.jpg">
<meta property="og:updated_time" content="2020-04-27T03:00:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大数据学习笔记-sql">
<meta name="twitter:description" content="表1： websites123456789101112mysql&amp;gt; select * from websites;+----+--------------+---------------------------+-------+---------+| id | name         | url                       | alexa | country |+----+">
<meta name="twitter:image" content="https://coolshell.cn/wp-content/uploads/2011/01/Inner_Join.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/10/19/大数据学习笔记-sql/">





  <title>大数据学习笔记-sql | My Love</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/jiaoqiyuan" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">My Love</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">I will be stronger</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-主页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            主页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于我">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于我
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-分类">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/19/大数据学习笔记-sql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jony Chiao">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar-6.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Love">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">大数据学习笔记-sql</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-19T09:13:11+08:00">
                2018-10-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/大数据/" itemprop="url" rel="index">
                    <span itemprop="name">大数据</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/19/大数据学习笔记-sql/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count gitment-comments-count" data-xid="/2018/10/19/大数据学习笔记-sql/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> 浏览
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  6.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  29
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="表1：-websites"><a href="#表1：-websites" class="headerlink" title="表1： websites"></a>表1： websites</h1><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select <span class="symbol">*</span> from websites;</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">|<span class="string"> id </span>|<span class="string"> name         </span>|<span class="string"> url                       </span>|<span class="string"> alexa </span>|<span class="string"> country </span>|</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">|<span class="string">  1 </span>|<span class="string"> Google       </span>|<span class="string"> https://www.google.cm/    </span>|<span class="string">     1 </span>|<span class="string"> USA     </span>|</span><br><span class="line">|<span class="string">  2 </span>|<span class="string"> 淘宝         </span>|<span class="string"> https://www.taobao.com/   </span>|<span class="string">    13 </span>|<span class="string"> CN      </span>|</span><br><span class="line">|<span class="string">  3 </span>|<span class="string"> 菜鸟教程     </span>|<span class="string"> http://www.runoob.com/    </span>|<span class="string">  5000 </span>|<span class="string"> USA     </span>|</span><br><span class="line">|<span class="string">  4 </span>|<span class="string"> 微博         </span>|<span class="string"> http://weibo.com/         </span>|<span class="string">    20 </span>|<span class="string"> CN      </span>|</span><br><span class="line">|<span class="string">  5 </span>|<span class="string"> Facebook     </span>|<span class="string"> https://www.facebook.com/ </span>|<span class="string">     3 </span>|<span class="string"> USA     </span>|</span><br><span class="line">|<span class="string">  6 </span>|<span class="string"> JonyChiao    </span>|<span class="string"> jiaoqiyuan.cn             </span>|<span class="string">   200 </span>|<span class="string"> CN      </span>|</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<h1 id="表2：access-log"><a href="#表2：access-log" class="headerlink" title="表2：access_log"></a>表2：access_log</h1><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from access_log;</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">| aid | site_id | count | date       |</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">|   <span class="number">1</span> |       <span class="number">1</span> |    <span class="number">45</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-10</span> |</span><br><span class="line">|   <span class="number">2</span> |       <span class="number">3</span> |   <span class="number">100</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> |</span><br><span class="line">|   <span class="number">3</span> |       <span class="number">1</span> |   <span class="number">230</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-14</span> |</span><br><span class="line">|   <span class="number">4</span> |       <span class="number">2</span> |    <span class="number">10</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-14</span> |</span><br><span class="line">|   <span class="number">5</span> |       <span class="number">5</span> |   <span class="number">205</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-14</span> |</span><br><span class="line">|   <span class="number">6</span> |       <span class="number">4</span> |    <span class="number">13</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-15</span> |</span><br><span class="line">|   <span class="number">7</span> |       <span class="number">3</span> |   <span class="number">220</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-15</span> |</span><br><span class="line">|   <span class="number">8</span> |       <span class="number">5</span> |   <span class="number">545</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-16</span> |</span><br><span class="line">|   <span class="number">9</span> |       <span class="number">3</span> |   <span class="number">201</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-17</span> |</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line"><span class="number">9</span> rows in set (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<h1 id="表3：apps"><a href="#表3：apps" class="headerlink" title="表3：apps"></a>表3：apps</h1><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from apps;</span><br><span class="line"><span class="code">+----+</span>------------<span class="code">+-------------------------+</span>---------+</span><br><span class="line">| id | app<span class="emphasis">_name   | url                     | country |</span></span><br><span class="line"><span class="emphasis">+----+------------+-------------------------+---------+</span></span><br><span class="line"><span class="emphasis">|  1 | QQ APP     | http://im.qq.com/       | CN      |</span></span><br><span class="line"><span class="emphasis">|  2 | 微博 APP   | http://weibo.com/       | CN      |</span></span><br><span class="line"><span class="emphasis">|  3 | 淘宝 APP   | https://www.taobao.com/ | CN      |</span></span><br><span class="line"><span class="emphasis">+----+------------+-------------------------+---------+</span></span><br><span class="line"><span class="emphasis">3 rows in set (0.00 sec)</span></span><br></pre></td></tr></table></figure>
<h2 id="查看表结构"><a href="#查看表结构" class="headerlink" title="查看表结构"></a>查看表结构</h2><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show columns from websites;</span><br><span class="line">+---------+--------------+------+-----+---------+----------------+</span><br><span class="line">|<span class="string"> Field   </span>|<span class="string"> Type         </span>|<span class="string"> Null </span>|<span class="string"> Key </span>|<span class="string"> Default </span>|<span class="string"> Extra          </span>|</span><br><span class="line">+---------+--------------+------+-----+---------+----------------+</span><br><span class="line">|<span class="string"> id      </span>|<span class="string"> int(11)      </span>|<span class="string"> NO   </span>|<span class="string"> PRI </span>|<span class="string"> NULL    </span>|<span class="string"> auto_increment </span>|</span><br><span class="line">|<span class="string"> name    </span>|<span class="string"> char(20)     </span>|<span class="string"> NO   </span>|<span class="string">     </span>|<span class="string">         </span>|<span class="string">                </span>|</span><br><span class="line">|<span class="string"> url     </span>|<span class="string"> varchar(255) </span>|<span class="string"> NO   </span>|<span class="string">     </span>|<span class="string">         </span>|<span class="string">                </span>|</span><br><span class="line">|<span class="string"> alexa   </span>|<span class="string"> int(11)      </span>|<span class="string"> NO   </span>|<span class="string">     </span>|<span class="string"> 0       </span>|<span class="string">                </span>|</span><br><span class="line">|<span class="string"> country </span>|<span class="string"> char(10)     </span>|<span class="string"> NO   </span>|<span class="string">     </span>|<span class="string">         </span>|<span class="string">                </span>|</span><br><span class="line">+---------+--------------+------+-----+---------+----------------+</span><br><span class="line">5 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>
<h2 id="LIMIT语句"><a href="#LIMIT语句" class="headerlink" title="LIMIT语句"></a>LIMIT语句</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">limit</span> 2;</span><br><span class="line">+----+--------+-------------------------+-------+---------+</span><br><span class="line">| id | name   | url                     | alexa | country |</span><br><span class="line">+----+--------+-------------------------+-------+---------+</span><br><span class="line">|  1 | Google | https://www.google.cm/  |     1 | USA     |</span><br><span class="line">|  2 | 淘宝   | https://www.taobao.com/ |    13 | CN      |</span><br><span class="line">+----+--------+-------------------------+-------+---------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<h2 id="LIKE语句：LIKE-操作符用于在-WHERE-子句中搜索列中的指定模式。"><a href="#LIKE语句：LIKE-操作符用于在-WHERE-子句中搜索列中的指定模式。" class="headerlink" title="LIKE语句：LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。"></a>LIKE语句：LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name like <span class="string">'G%'</span>;</span><br><span class="line">+----+--------+------------------------+-------+---------+</span><br><span class="line">| id | name   | url                    | alexa | country |</span><br><span class="line">+----+--------+------------------------+-------+---------+</span><br><span class="line">|  1 | Google | https://www.google.cm/ |     1 | USA     |</span><br><span class="line">+----+--------+------------------------+-------+---------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<p><strong>这里面%是通配符</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name like <span class="string">'J%'</span>;</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">| id | name      | url           | alexa | country |</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">|  6 | JonyChiao | jiaoqiyuan.cn |   200 | CN      |</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name not like <span class="string">'J%'</span>;</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">| id | name         | url                       | alexa | country |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google       | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  2 | 淘宝         | https://www.taobao.com/   |    13 | CN      |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/    |  5000 | USA     |</span><br><span class="line">|  4 | 微博         | http://weibo.com/         |    20 | CN      |</span><br><span class="line">|  5 | Facebook     | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<h2 id="SQL通配符"><a href="#SQL通配符" class="headerlink" title="SQL通配符"></a>SQL通配符</h2><table>
<thead>
<tr>
<th style="text-align:center">通配符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">替代0个或多个字符</td>
</tr>
<tr>
<td style="text-align:center">_</td>
<td style="text-align:center">替代一个字符</td>
</tr>
<tr>
<td style="text-align:center">[charlist]</td>
<td style="text-align:center">字符列表中的任何单一字符</td>
</tr>
<tr>
<td style="text-align:center">[^charlist] 或 [!charlist]</td>
<td style="text-align:center">不在字符列表中的任何一个单一字符</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> url like <span class="string">'https%'</span>;</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">| id | name     | url                       | alexa | country |</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google   | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  2 | 淘宝     | https://www.taobao.com/   |    13 | CN      |</span><br><span class="line">|  5 | Facebook | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name like <span class="string">'_onyChiao'</span>;</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">| id | name      | url           | alexa | country |</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">|  6 | JonyChiao | jiaoqiyuan.cn |   200 | CN      |</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">选取以J开头的name的字段：</span><br><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name regexp <span class="string">'^[J]'</span>;</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">| id | name      | url           | alexa | country |</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">|  6 | JonyChiao | jiaoqiyuan.cn |   200 | CN      |</span><br><span class="line">+----+-----------+---------------+-------+---------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">选取以非J开头的name字段：</span><br><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name regexp <span class="string">'^[^J]'</span>;</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">| id | name         | url                       | alexa | country |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google       | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  2 | 淘宝         | https://www.taobao.com/   |    13 | CN      |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/    |  5000 | USA     |</span><br><span class="line">|  4 | 微博         | http://weibo.com/         |    20 | CN      |</span><br><span class="line">|  5 | Facebook     | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<p><strong>注意：Mysql不支持[charsite]、[!charsite]通配符</strong></p>
<h2 id="IN操作符：N-操作符允许在-WHERE-子句中规定多个值"><a href="#IN操作符：N-操作符允许在-WHERE-子句中规定多个值" class="headerlink" title="IN操作符：N 操作符允许在 WHERE 子句中规定多个值"></a>IN操作符：N 操作符允许在 WHERE 子句中规定多个值</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name <span class="keyword">in</span> (<span class="string">'JonyChiao'</span>, <span class="string">'Google'</span>);</span><br><span class="line">+----+-----------+------------------------+-------+---------+</span><br><span class="line">| id | name      | url                    | alexa | country |</span><br><span class="line">+----+-----------+------------------------+-------+---------+</span><br><span class="line">|  1 | Google    | https://www.google.cm/ |     1 | USA     |</span><br><span class="line">|  6 | JonyChiao | jiaoqiyuan.cn          |   200 | CN      |</span><br><span class="line">+----+-----------+------------------------+-------+---------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br></pre></td></tr></table></figure>
<h2 id="BETWEEN操作符"><a href="#BETWEEN操作符" class="headerlink" title="BETWEEN操作符"></a>BETWEEN操作符</h2><ul>
<li><p>BETWEEN 操作符用于选取介于两个值之间的数据范围内的值。这些值可以是数值、文本或者日期。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> alexa between 1 and 10;</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">| id | name     | url                       | alexa | country |</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google   | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  5 | Facebook | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> alexa not between 1 and 10;</span><br><span class="line">+----+--------------+-------------------------+-------+---------+</span><br><span class="line">| id | name         | url                     | alexa | country |</span><br><span class="line">+----+--------------+-------------------------+-------+---------+</span><br><span class="line">|  2 | 淘宝         | https://www.taobao.com/ |    13 | CN      |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/  |  5000 | USA     |</span><br><span class="line">|  4 | 微博         | http://weibo.com/       |    20 | CN      |</span><br><span class="line">|  6 | JonyChiao    | jiaoqiyuan.cn           |   200 | CN      |</span><br><span class="line">+----+--------------+-------------------------+-------+---------+</span><br><span class="line">4 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>选取alexa介于1到20但是country不是USA和IND的所有网站：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> (alexa between 1 and 20) and country not <span class="keyword">in</span> (<span class="string">'USA'</span>, <span class="string">'IND'</span>);</span><br><span class="line">+----+--------+-------------------------+-------+---------+</span><br><span class="line">| id | name   | url                     | alexa | country |</span><br><span class="line">+----+--------+-------------------------+-------+---------+</span><br><span class="line">|  2 | 淘宝   | https://www.taobao.com/ |    13 | CN      |</span><br><span class="line">|  4 | 微博   | http://weibo.com/       |    20 | CN      |</span><br><span class="line">+----+--------+-------------------------+-------+---------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>选取 name 以介于 ‘A’ 和 ‘H’ 之间字母开始的所有网站：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites <span class="built_in">where</span> name between <span class="string">'A'</span> and <span class="string">'H'</span>;</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">| id | name     | url                       | alexa | country |</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google   | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  5 | Facebook | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">+----+----------+---------------------------+-------+---------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>选取日期区间</p>
  <figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from access_log where date between '<span class="number">2016</span><span class="number">-5</span><span class="number">-10</span>' and '<span class="number">2016</span><span class="number">-05</span><span class="number">-14</span>';</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">| aid | site_id | count | date       |</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line">|   <span class="number">1</span> |       <span class="number">1</span> |    <span class="number">45</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-10</span> |</span><br><span class="line">|   <span class="number">2</span> |       <span class="number">3</span> |   <span class="number">100</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-13</span> |</span><br><span class="line">|   <span class="number">3</span> |       <span class="number">1</span> |   <span class="number">230</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-14</span> |</span><br><span class="line">|   <span class="number">4</span> |       <span class="number">2</span> |    <span class="number">10</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-14</span> |</span><br><span class="line">|   <span class="number">5</span> |       <span class="number">5</span> |   <span class="number">205</span> | <span class="number">2016</span><span class="number">-05</span><span class="number">-14</span> |</span><br><span class="line">+-----+---------+-------+------------+</span><br><span class="line"><span class="number">5</span> rows in set (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>  请注意，在不同的数据库中，BETWEEN 操作符会产生不同的结果！<br>  在某些数据库中，BETWEEN 选取介于两个值之间但不包括两个测试值的字段。<br>  在某些数据库中，BETWEEN 选取介于两个值之间且包括两个测试值的字段。<br>  在某些数据库中，BETWEEN 选取介于两个值之间且包括第一个测试值但不包括最后一个测试值的字段。</p>
<p>  因此，请检查您的数据库是如何处理 BETWEEN 操作符！</p>
</li>
</ul>
<h2 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h2><ul>
<li>通过使用 SQL，可以为表名称或列名称指定别名。基本上，创建别名是为了让列名称的可读性更强。</li>
<li><p>列的别名：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name as n, country as c from websites;</span><br><span class="line">+--------------+-----+</span><br><span class="line">| n            | c   |</span><br><span class="line">+--------------+-----+</span><br><span class="line">| Google       | USA |</span><br><span class="line">| 淘宝         | CN  |</span><br><span class="line">| 菜鸟教程     | CN  |</span><br><span class="line">| 微博         | CN  |</span><br><span class="line">| Facebook     | USA |</span><br><span class="line">+--------------+-----+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>表的别名：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select w.name, w.url, a.count, a.date from websites as w, access_log as a <span class="built_in">where</span> a.site_id=w.id;</span><br><span class="line">+--------------+---------------------------+-------+------------+</span><br><span class="line">| name         | url                       | count | date       |</span><br><span class="line">+--------------+---------------------------+-------+------------+</span><br><span class="line">| Google       | https://www.google.cm/    |    45 | 2016-05-10 |</span><br><span class="line">| 菜鸟教程     | http://www.runoob.com/    |   100 | 2016-05-13 |</span><br><span class="line">| Google       | https://www.google.cm/    |   230 | 2016-05-14 |</span><br><span class="line">| 淘宝         | https://www.taobao.com/   |    10 | 2016-05-14 |</span><br><span class="line">| Facebook     | https://www.facebook.com/ |   205 | 2016-05-14 |</span><br><span class="line">| 微博         | http://weibo.com/         |    13 | 2016-05-15 |</span><br><span class="line">| 菜鸟教程     | http://www.runoob.com/    |   220 | 2016-05-15 |</span><br><span class="line">| Facebook     | https://www.facebook.com/ |   545 | 2016-05-16 |</span><br><span class="line">| 菜鸟教程     | http://www.runoob.com/    |   201 | 2016-05-17 |</span><br><span class="line">+--------------+---------------------------+-------+------------+</span><br><span class="line">9 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line">这里面的as可以省略</span><br><span class="line"></span><br><span class="line">select w.name, w.url, a.count, a.date from websites w, access_log a <span class="built_in">where</span> a.site_id=w.id;</span><br></pre></td></tr></table></figure>
</li>
<li><p>别名一般使用在以下情况：</p>
<ul>
<li>查询中涉及超过一个表</li>
<li>在查询中使用了函数</li>
<li>类名称很长或者可读性很差</li>
<li>需要把两个列或者多个列结合在一起</li>
</ul>
</li>
</ul>
<h2 id="JOIN：SQL-JOIN-子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。"><a href="#JOIN：SQL-JOIN-子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。" class="headerlink" title="JOIN：SQL JOIN 子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。"></a>JOIN：SQL JOIN 子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select w.id, w.name, a.count, a.date from websites w join access_log a on w.id=a.site_id;</span><br><span class="line">+----+--------------+-------+------------+</span><br><span class="line">| id | name         | count | date       |</span><br><span class="line">+----+--------------+-------+------------+</span><br><span class="line">|  1 | Google       |    45 | 2016-05-10 |</span><br><span class="line">|  3 | 菜鸟教程     |   100 | 2016-05-13 |</span><br><span class="line">|  1 | Google       |   230 | 2016-05-14 |</span><br><span class="line">|  2 | 淘宝         |    10 | 2016-05-14 |</span><br><span class="line">|  5 | Facebook     |   205 | 2016-05-14 |</span><br><span class="line">|  4 | 微博         |    13 | 2016-05-15 |</span><br><span class="line">|  3 | 菜鸟教程     |   220 | 2016-05-15 |</span><br><span class="line">|  5 | Facebook     |   545 | 2016-05-16 |</span><br><span class="line">|  3 | 菜鸟教程     |   201 | 2016-05-17 |</span><br><span class="line">+----+--------------+-------+------------+</span><br><span class="line">9 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>INNER JOIN:关键字在表中存在至少一个匹配时返回行。</p>
<ul>
<li><p>inner join 与join相同</p>
<p><img src="https://coolshell.cn/wp-content/uploads/2011/01/Inner_Join.png" alt="Inner Join"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from websites w inner join access_log a on w.id=a.site_id order by a.count;</span><br><span class="line">+----+--------------+---------------------------+-------+---------+-----+---------+-------+------------+</span><br><span class="line">| id | name         | url                       | alexa | country | aid | site_id | count | date       |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+-----+---------+-------+------------+</span><br><span class="line">|  2 | 淘宝         | https://www.taobao.com/   |    13 | CN      |   4 |       2 |    10 | 2016-05-14 |</span><br><span class="line">|  4 | 微博         | http://weibo.com/         |    20 | CN      |   6 |       4 |    13 | 2016-05-15 |</span><br><span class="line">|  1 | Google       | https://www.google.cm/    |     1 | USA     |   1 |       1 |    45 | 2016-05-10 |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/    |  4689 | CN      |   2 |       3 |   100 | 2016-05-13 |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/    |  4689 | CN      |   9 |       3 |   201 | 2016-05-17 |</span><br><span class="line">|  5 | Facebook     | https://www.facebook.com/ |     3 | USA     |   5 |       5 |   205 | 2016-05-14 |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/    |  4689 | CN      |   7 |       3 |   220 | 2016-05-15 |</span><br><span class="line">|  1 | Google       | https://www.google.cm/    |     1 | USA     |   3 |       1 |   230 | 2016-05-14 |</span><br><span class="line">|  5 | Facebook     | https://www.facebook.com/ |     3 | USA     |   8 |       5 |   545 | 2016-05-16 |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+-----+---------+-------+------------+</span><br><span class="line">9 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>LEFT JOIN:关键字从左表（table1）返回所有的行，即使右表（table2）中没有匹配。如果右表中没有匹配，则结果为 NULL。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into websites value(6, <span class="string">'stackoverflow'</span>, <span class="string">'http://stackoverflow.com/'</span>, 0, <span class="string">'IND'</span>);</span><br><span class="line"></span><br><span class="line">mysql&gt; select w.name, a.count, a.date from websites w left join access_log a on w.id=a.site_id order by a.count desc;</span><br><span class="line">+---------------+-------+------------+</span><br><span class="line">| name          | count | date       |</span><br><span class="line">+---------------+-------+------------+</span><br><span class="line">| Facebook      |   545 | 2016-05-16 |</span><br><span class="line">| Google        |   230 | 2016-05-14 |</span><br><span class="line">| 菜鸟教程      |   220 | 2016-05-15 |</span><br><span class="line">| Facebook      |   205 | 2016-05-14 |</span><br><span class="line">| 菜鸟教程      |   201 | 2016-05-17 |</span><br><span class="line">| 菜鸟教程      |   100 | 2016-05-13 |</span><br><span class="line">| Google        |    45 | 2016-05-10 |</span><br><span class="line">| 微博          |    13 | 2016-05-15 |</span><br><span class="line">| 淘宝          |    10 | 2016-05-14 |</span><br><span class="line">| stackoverflow |  NULL | NULL       |</span><br><span class="line">+---------------+-------+------------+</span><br><span class="line">10 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>RIGHT JOIN:关键字从右表（table2）返回所有的行，即使左表（table1）中没有匹配。如果左表中没有匹配，则结果为 NULL。</p>
</li>
</ul>
<p><img src="http://www.runoob.com/wp-content/uploads/2013/09/img_rightjoin.gif" alt="RIGHTJOIN"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select w.name, a.count, a.date from websites w right join access_log a on w.id=a.site_id order by a.count desc;</span><br><span class="line">+--------------+-------+------------+</span><br><span class="line">| name         | count | date       |</span><br><span class="line">+--------------+-------+------------+</span><br><span class="line">| Facebook     |   545 | 2016-05-16 |</span><br><span class="line">| Google       |   230 | 2016-05-14 |</span><br><span class="line">| 菜鸟教程     |   220 | 2016-05-15 |</span><br><span class="line">| Facebook     |   205 | 2016-05-14 |</span><br><span class="line">| 菜鸟教程     |   201 | 2016-05-17 |</span><br><span class="line">| 菜鸟教程     |   100 | 2016-05-13 |</span><br><span class="line">| Google       |    45 | 2016-05-10 |</span><br><span class="line">| 微博         |    13 | 2016-05-15 |</span><br><span class="line">| 淘宝         |    10 | 2016-05-14 |</span><br><span class="line">+--------------+-------+------------+</span><br><span class="line">9 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line">注意这里没有了StackOverflow。</span><br></pre></td></tr></table></figure>
<ul>
<li><p>FULL JOIN:</p>
<p>  <img src="https://coolshell.cn/wp-content/uploads/2011/01/Full_Outer_Join.png" alt="FULL OUTER JOIN"></p>
<ul>
<li>mysql不支持full join</li>
</ul>
</li>
<li><p>JOINS</p>
<p>  <img src="https://coolshell.cn/wp-content/uploads/2011/01/SQL-Join.jpg" alt="JOINS"></p>
</li>
</ul>
<p>扩展阅读 : <a href="https://coolshell.cn/articles/3463.html" target="_blank" rel="noopener">图解SQL的JOIN</a></p>
<h2 id="UNION操作符：合并两个或多个-SELECT-语句的结果。"><a href="#UNION操作符：合并两个或多个-SELECT-语句的结果。" class="headerlink" title="UNION操作符：合并两个或多个 SELECT 语句的结果。"></a>UNION操作符：合并两个或多个 SELECT 语句的结果。</h2><ul>
<li><p>默认地，UNION 操作符选取不同的值。如果允许重复的值，请使用 UNION ALL。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select country from websites union select country from apps;</span><br><span class="line">+---------+</span><br><span class="line">| country |</span><br><span class="line">+---------+</span><br><span class="line">| USA     |</span><br><span class="line">| CN      |</span><br><span class="line">+---------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select country from websites union all select country from apps;</span><br><span class="line">+---------+</span><br><span class="line">| country |</span><br><span class="line">+---------+</span><br><span class="line">| USA     |</span><br><span class="line">| CN      |</span><br><span class="line">| USA     |</span><br><span class="line">| CN      |</span><br><span class="line">| USA     |</span><br><span class="line">| CN      |</span><br><span class="line">| CN      |</span><br><span class="line">| CN      |</span><br><span class="line">| CN      |</span><br><span class="line">+---------+</span><br><span class="line">9 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select country, name from websites <span class="built_in">where</span> country=<span class="string">'CN'</span> union all select country, app_name from apps <span class="built_in">where</span> country=<span class="string">'CN'</span> order by country;</span><br><span class="line">+---------+------------+</span><br><span class="line">| country | name       |</span><br><span class="line">+---------+------------+</span><br><span class="line">| CN      | JonyChiao  |</span><br><span class="line">| CN      | 淘宝 APP   |</span><br><span class="line">| CN      | 淘宝       |</span><br><span class="line">| CN      | QQ APP     |</span><br><span class="line">| CN      | 微博       |</span><br><span class="line">| CN      | 微博 APP   |</span><br><span class="line">+---------+------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SQL-SELECT-INTO-语句-从一个表复制数据，然后把数据插入到另一个新表中。"><a href="#SQL-SELECT-INTO-语句-从一个表复制数据，然后把数据插入到另一个新表中。" class="headerlink" title="SQL SELECT INTO 语句:从一个表复制数据，然后把数据插入到另一个新表中。"></a>SQL SELECT INTO 语句:从一个表复制数据，然后把数据插入到另一个新表中。</h2><ul>
<li>MySQL 数据库不支持 SELECT … INTO 语句，但支持 INSERT INTO … SELECT 。</li>
</ul>
<h2 id="SQL-INSERT-INTO-SELECT-语句-从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。"><a href="#SQL-INSERT-INTO-SELECT-语句-从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。" class="headerlink" title="SQL INSERT INTO SELECT 语句:从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。"></a>SQL INSERT INTO SELECT 语句:从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。</h2><ul>
<li><p>复制 “apps” 中的数据插入到 “Websites” 中：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into websites(name, country) select app_name, country from apps;</span><br><span class="line">Query OK, 3 rows affected (0.04 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from websites;</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">| id | name         | url                       | alexa | country |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">|  1 | Google       | https://www.google.cm/    |     1 | USA     |</span><br><span class="line">|  2 | 淘宝         | https://www.taobao.com/   |    13 | CN      |</span><br><span class="line">|  3 | 菜鸟教程     | http://www.runoob.com/    |  5000 | USA     |</span><br><span class="line">|  4 | 微博         | http://weibo.com/         |    20 | CN      |</span><br><span class="line">|  5 | Facebook     | https://www.facebook.com/ |     3 | USA     |</span><br><span class="line">|  6 | JonyChiao    | jiaoqiyuan.cn             |   200 | CN      |</span><br><span class="line">|  7 | QQ APP       |                           |     0 | CN      |</span><br><span class="line">|  8 | 微博 APP     |                           |     0 | CN      |</span><br><span class="line">|  9 | 淘宝 APP     |                           |     0 | CN      |</span><br><span class="line">+----+--------------+---------------------------+-------+---------+</span><br><span class="line">9 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="创建数据库：create-database-my-db"><a href="#创建数据库：create-database-my-db" class="headerlink" title="创建数据库：create database my_db"></a>创建数据库：create database my_db</h2><h2 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table people( PersonID int, LastName varchar(255), FirstName varchar(255), Address varchar(255), City varchar(255) );</span><br></pre></td></tr></table></figure>
<h2 id="SQL约束"><a href="#SQL约束" class="headerlink" title="SQL约束"></a>SQL约束</h2><ul>
<li>SQL 约束用于规定表中的数据规则。</li>
<li>约束可以在创建表时规定（通过 CREATE TABLE 语句），或者在表创建之后规定（通过 ALTER TABLE 语句）。</li>
<li>在 SQL 中，我们有如下约束：<ul>
<li>NOT NULL - 指示某列不能存储 NULL 值。</li>
<li>UNIQUE - 保证某列的每行必须有唯一的值。</li>
<li>PRIMARY KEY - NOT NULL 和 UNIQUE 的结合。确保某列（或两个列多个列的结合）有唯一标识，有助于更容易更快速地找到表中的一个特定的记录。</li>
<li>FOREIGN KEY - 保证一个表中的数据匹配另一个表中的值的参照完整性。</li>
<li>CHECK - 保证列中的值符合指定的条件。、</li>
<li>DEFAULT - 规定没有给列赋值时的默认值。</li>
</ul>
</li>
</ul>
<h3 id="NOT-NULL约束"><a href="#NOT-NULL约束" class="headerlink" title="NOT NULL约束"></a>NOT NULL约束</h3><ul>
<li><p>约束强制字段始终包含值。这意味着，如果不向字段添加值，就无法插入新记录或者更新记录。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="NUIQUE约束"><a href="#NUIQUE约束" class="headerlink" title="NUIQUE约束"></a>NUIQUE约束</h3><ul>
<li>UNIQUE 约束唯一标识数据库表中的每条记录。</li>
<li>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。</li>
<li>PRIMARY KEY 约束拥有自动定义的 UNIQUE 约束。</li>
<li><p>每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">在 <span class="string">"Persons"</span> 表创建时在 <span class="string">"P_Id"</span> 列上创建 UNIQUE 约束：</span><br><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">UNIQUE (P_Id)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">如需命名（CONSTRAINT） UNIQUE 约束，并定义多个列的 UNIQUE 约束，请使用下面的 SQL 语法：</span><br><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ALTER TABLE 时的 SQL UNIQUE 约束<br>  alter与update的区别：有一句话很形象，alter相当于修改房间，而update相当于更新家具。alter操作的是表内数据的类型和约束，update用于操作数据。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">当表已被创建时，如需在 <span class="string">"P_Id"</span> 列创建 UNIQUE 约束，请使用下面的 SQL：</span><br><span class="line">ALTER TABLE Persons ADD UNIQUE (P_Id)</span><br><span class="line"></span><br><span class="line">如需命名 UNIQUE 约束，并定义多个列的 UNIQUE 约束，请使用下面的 SQL 语法：</span><br><span class="line">ALTER TABLE Persons ADD CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName)</span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销 UNIQUE 约束</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons DROP INDEX uc_PersonID</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="SQL-PRIMARY-KEY-约束"><a href="#SQL-PRIMARY-KEY-约束" class="headerlink" title="SQL PRIMARY KEY 约束"></a>SQL PRIMARY KEY 约束</h3><ul>
<li>约束唯一标识数据库表中的每条记录。</li>
<li>主键必须包含唯一的值。</li>
<li>主键列不能包含 NULL 值。</li>
<li>每个表都应该有一个主键，并且每个表只能有一个主键。</li>
<li><p>CREATE TABLE 时的 SQL PRIMARY KEY 约束</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">在 <span class="string">"Persons"</span> 表创建时在 <span class="string">"P_Id"</span> 列上创建 PRIMARY KEY 约束：</span><br><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (P_Id)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">如需命名 PRIMARY KEY 约束，并定义多个列的 PRIMARY KEY 约束，请使用下面的 SQL 语法：</span><br><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ALTER TABLE 时的 SQL PRIMARY KEY 约束</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">当表已被创建时，如需在 <span class="string">"P_Id"</span> 列创建 PRIMARY KEY 约束，请使用下面的 SQL：</span><br><span class="line">ALTER TABLE Persons ADD PRIMARY KEY (P_Id)</span><br><span class="line"></span><br><span class="line">如需命名 PRIMARY KEY 约束，并定义多个列的 PRIMARY KEY 约束，请使用下面的 SQL 语法：</span><br><span class="line">ALTER TABLE Persons ADD CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName)</span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销 PRIMARY KEY 约束</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons DROP PRIMARY KEY</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SQL-FOREIGN-KEY-约束-一个表中的-FOREIGN-KEY-指向另一个表中的-UNIQUE-KEY-唯一约束的键-。"><a href="#SQL-FOREIGN-KEY-约束-一个表中的-FOREIGN-KEY-指向另一个表中的-UNIQUE-KEY-唯一约束的键-。" class="headerlink" title="SQL FOREIGN KEY 约束:一个表中的 FOREIGN KEY 指向另一个表中的 UNIQUE KEY(唯一约束的键)。"></a>SQL FOREIGN KEY 约束:一个表中的 FOREIGN KEY 指向另一个表中的 UNIQUE KEY(唯一约束的键)。</h2><ul>
<li>例子:</li>
<li>Persons表：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">P_Id</th>
<th style="text-align:center">LastName</th>
<th style="text-align:center">FirstName</th>
<th style="text-align:center">Address</th>
<th style="text-align:center">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">Hansen</td>
<td style="text-align:center">Ola</td>
<td style="text-align:center">Timoteivn 10</td>
<td style="text-align:center">Sandnes</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Svendson</td>
<td style="text-align:center">Tove</td>
<td style="text-align:center">Borgvn 23</td>
<td style="text-align:center">Sandnes</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Pettersen</td>
<td style="text-align:center">Kari</td>
<td style="text-align:center">Srotgt 20</td>
<td style="text-align:center">Stavanger</td>
</tr>
</tbody>
</table>
<ul>
<li>Orders表</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">O_Id</th>
<th style="text-align:center">OrderNo</th>
<th style="text-align:center">P_Id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">77999</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">88888</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">23545</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">34354</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<ul>
<li>Orders表中的P_Id列指向Persons表中的P_Id列。</li>
<li>Persons表中的P_Id列是Persons表中的PRIMARY KEY。</li>
<li>Orders表中的P_Id列是Orders表中的FOREIGN KEY。</li>
<li>FOREIGN KEY约束用于预防破坏表之间连接的行为。</li>
<li><p>FOREIGN KEY约束也能预防非法数据插入外键列，因为它必须是它指向的那个表中的值之一。</p>
</li>
<li><p>CREATE TABLE 时的 SQL FOREIGN KEY 约束</p>
<ul>
<li><p>在 “Orders” 表创建时在 “P_Id” 列上创建 FOREIGN KEY 约束：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">P_Id int,</span><br><span class="line">PRIMARY KEY (O_Id),</span><br><span class="line">FOREIGN KEY (P_Id) REFERENCES Persons(P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果需要命名FOREIGN KEY约束，并定义多列的FOREIGN KEY约束，使用这样的SQL语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">P_Id int,</span><br><span class="line">PRIMARY KEY (O_Id),</span><br><span class="line">CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ALTER TABLE 时的 SQL FOREIGN KEY 约束:</p>
</li>
<li><p>当 “Orders” 表已被创建时，如需在 “P_Id” 列创建 FOREIGN KEY 约束，请使用下面的 SQL：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">ADD FOREIGN KEY (P_Id)</span><br><span class="line">REFERENCES Persons(P_Id)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>如需命名 FOREIGN KEY 约束，并定义多个列的 FOREIGN KEY 约束，请使用下面的 SQL 语法：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">ADD CONSTRAINT fk_PerOrders</span><br><span class="line">FOREIGN KEY (P_Id)</span><br><span class="line">REFERENCES Persons(P_Id)</span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销 FOREIGN KEY 约束</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Orders</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> fk_PerOrders</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SQL-CHECK-约束"><a href="#SQL-CHECK-约束" class="headerlink" title="SQL CHECK 约束"></a>SQL CHECK 约束</h2><ul>
<li><p>CHECK 约束用于限制列中的值的范围。</p>
<ul>
<li><p>在 “Persons” 表创建时在 “P_Id” 列上创建 CHECK 约束。CHECK 约束规定 “P_Id” 列必须只包含大于 0 的整数。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">LastName varchar(255) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CHECK (P_Id&gt;0)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>如需命名 CHECK 约束，并定义多个列的 CHECK 约束，请使用下面的 SQL 语法：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">LastName varchar(255) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT chk_Person CHECK (P_Id&gt;0 <span class="keyword">AND</span> <span class="attribute">City</span>=<span class="string">'Sandnes'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>已经创建数据表，要修改数据表check约束时</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">ADD</span> <span class="keyword">CHECK</span> (P_Id&gt;<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销CHeck约束</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">DROP</span> <span class="keyword">CHECK</span> chk_Person</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="DEFAULT约束"><a href="#DEFAULT约束" class="headerlink" title="DEFAULT约束"></a>DEFAULT约束</h2><ul>
<li><p>DEFAULT 约束用于向列中插入默认值。如果没有规定其他的值，那么会将默认值添加到所有的新记录。</p>
<ul>
<li><p>在 “Persons” 表创建时在 “City” 列上创建 DEFAULT 约束：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line">(  </span><br><span class="line">P_Id <span class="built_in">int</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">LastName <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">FirstName <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">Address <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">City <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="string">'Sandnes'</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过使用类似 GETDATE() 这样的函数，DEFAULT 约束也可以用于插入系统值：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">OrderNo int <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">P_Id int,</span><br><span class="line">OrderDate date<span class="built_in"> DEFAULT </span>GETDATE()</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>数据表创建后添加default约束时</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">ALTER</span> City <span class="keyword">SET</span> <span class="keyword">DEFAULT</span> <span class="string">'SANDNES'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销DEFAULT约束</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">ALTER</span> City <span class="keyword">DROP</span> <span class="keyword">DEFAULT</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="CREATE-INDEX语句"><a href="#CREATE-INDEX语句" class="headerlink" title="CREATE INDEX语句"></a>CREATE INDEX语句</h2><ul>
<li>CREATE INDEX 语句用于在表中创建索引。在不读取整个表的情况下，索引使数据库应用程序可以更快地查找数据。</li>
<li>用户无法看到索引，索引只能用来加速搜索或查询</li>
<li>但是更新一个包含索引的表比更新一个没有索引的表要话费更多时间，因为索引本身也要被更新。</li>
<li>因此，理想的做法是仅仅在经常被搜索的列或表上创建索引。</li>
<li><p>语法</p>
<ul>
<li><p>创建一个简单索引：</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE <span class="keyword">TABLE</span> index_name <span class="comment">ON table_name (column_name)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>CREATE UNIQUE INDEX语法：在边上创建一个唯一的索引，不允许使用重复的值，唯一的索引意味着两个行不能拥有相同的索引值</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> index_name <span class="keyword">ON</span> table_name (column_name)</span><br></pre></td></tr></table></figure>
</li>
<li><p>实例：在Persons表的LastName列上创建一个名为Pindex的索引</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> Pindex <span class="keyword">on</span> Persons (LastName)</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> Pindex <span class="keyword">ON</span> Persons (LastName, FirstName)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="撤销索引、撤销表以及撤销数据库"><a href="#撤销索引、撤销表以及撤销数据库" class="headerlink" title="撤销索引、撤销表以及撤销数据库"></a>撤销索引、撤销表以及撤销数据库</h2><ul>
<li><p>DROP INDEX：删除表中的索引</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">DROP</span> <span class="keyword">INDEX</span> index_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>DROP TABLE:用于删除表</p>
  <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP <span class="keyword">TABLE</span> table_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>DROP DATABASW:用于删除数据库</p>
  <figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> database_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>TRUNCATE TABLE:仅仅删除表内数据，不删除表本身</p>
  <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TRUNCATE <span class="keyword">TABLE</span> table_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>DELETE DROP TRUNCATE的区别</p>
<ul>
<li>DROP删除表（数据库/索引），并释放空间，将表删除得一干二净</li>
<li>TRUNCATE删除表内容，但不释放空间，表结构还在</li>
<li>DELETE仅删除表内容，但保留表定义，不释放空间。</li>
<li>速度：DROP &gt; TRUNCATE &gt; DELETE</li>
<li>安全性：小心使用DROP和truncate，尤其没有备份的时候。</li>
<li>使用上删除部分数据用delete，加上where语句，想删除表用drop，想保留表而删除所有数据用TRUNCATE。</li>
</ul>
</li>
</ul>
<h2 id="ALTER-TABLE语句-在已有的表中添加、删除或修改列"><a href="#ALTER-TABLE语句-在已有的表中添加、删除或修改列" class="headerlink" title="ALTER TABLE语句:在已有的表中添加、删除或修改列"></a>ALTER TABLE语句:在已有的表中添加、删除或修改列</h2><ul>
<li><p>在已有表中添加列</p>
  <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER <span class="keyword">TABLE</span> table_name <span class="comment">ADD column_name datatype</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除已有表中的列（有些数据库不允许这种在数据库表中删除列的方式）</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> column_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>改变列的数据类型</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">MODIFY</span> <span class="keyword">COLUMN</span> column_name datatype</span><br></pre></td></tr></table></figure>
</li>
<li><p>实例</p>
</li>
<li>Persons表</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">P_Id</th>
<th style="text-align:center">LastName</th>
<th style="text-align:center">FirstName</th>
<th style="text-align:center">Address</th>
<th style="text-align:center">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">Hansen</td>
<td style="text-align:center">Ola</td>
<td style="text-align:center">Timoteivn 10</td>
<td style="text-align:center">Sandnes</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Svendson</td>
<td style="text-align:center">Tove</td>
<td style="text-align:center">Borgvn 23</td>
<td style="text-align:center">Sandnes</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Pettersen</td>
<td style="text-align:center">Kari</td>
<td style="text-align:center">Srotgt 20</td>
<td style="text-align:center">Stavanger</td>
</tr>
</tbody>
</table>
<ul>
<li><p>在 “Persons” 表中添加一个名为 “DateOfBirth” 的列：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">ADD</span> DateOfBirth <span class="keyword">data</span></span><br><span class="line">这里DataOfBirth的类型是<span class="keyword">data</span>，可以存放日期。</span><br></pre></td></tr></table></figure>
</li>
<li><p>现在Persons表内容如下：<br>| P_Id | LastName | FirstName | Address | City | DataOfBirth |<br>|:—-:|:——–:|:———:|:——-:|:—-:| |<br>| 1    | Hansen   | Ola       | Timoteivn 10 | Sandnes| |<br>| 2    | Svendson | Tove      | Borgvn 23 | Sandnes | |<br>| 3    | Pettersen | Kari     | Srotgt 20 | Stavanger | |</p>
</li>
<li><p>改变数据类型，将DataOfBirth改为存放年份的列：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> DataOfBirth <span class="keyword">year</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>DROP COULUMN实例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> DataOfBirth</span><br></pre></td></tr></table></figure>
</li>
<li><p>Persons数据表现在的内容是：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">P_Id</th>
<th style="text-align:center">LastName</th>
<th style="text-align:center">FirstName</th>
<th style="text-align:center">Address</th>
<th style="text-align:center">City</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">Hansen</td>
<td style="text-align:center">Ola</td>
<td style="text-align:center">Timoteivn 10</td>
<td style="text-align:center">Sandnes</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Svendson</td>
<td style="text-align:center">Tove</td>
<td style="text-align:center">Borgvn 23</td>
<td style="text-align:center">Sandnes</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Pettersen</td>
<td style="text-align:center">Kari</td>
<td style="text-align:center">Srotgt 20</td>
<td style="text-align:center">Stavanger</td>
</tr>
</tbody>
</table>
<h2 id="AUTO-INCREMENT字段"><a href="#AUTO-INCREMENT字段" class="headerlink" title="AUTO_INCREMENT字段"></a>AUTO_INCREMENT字段</h2><ul>
<li>通常在每次插入新纪录时，希望能够自动创建主键的值，可以通过创建一个auto_increment字段<ul>
<li>把Persons表中的ID列定义为auto increment主键字段：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">ID</span> <span class="built_in">int</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    LastName <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    FirstName <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="keyword">ID</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">auto_increment开始值是<span class="number">1</span>，每条递增<span class="number">1</span></span><br><span class="line">要以其他值作为起始值，使用这样的<span class="keyword">SQL</span>语句：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons AUTO_INCREMENT=<span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Persons(FirstName, LastName) <span class="keyword">VALUES</span>(<span class="string">'Lars'</span>, <span class="string">'Monsen'</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="SQL-Date-函数：日期"><a href="#SQL-Date-函数：日期" class="headerlink" title="SQL Date 函数：日期"></a>SQL Date 函数：日期</h2><ul>
<li>MySQL Date函数：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">NOW()</td>
<td style="text-align:center">返回当前的日期和时间</td>
</tr>
<tr>
<td style="text-align:center">CURDATE()</td>
<td style="text-align:center">返回当前的日期</td>
</tr>
<tr>
<td style="text-align:center">CURTIME()</td>
<td style="text-align:center">返回当前时间</td>
</tr>
<tr>
<td style="text-align:center">DATE()</td>
<td style="text-align:center">提取日期或日期/时间表达式的日期部分</td>
</tr>
<tr>
<td style="text-align:center">EXTRACT()</td>
<td style="text-align:center">返回日期/时间的单独部分</td>
</tr>
<tr>
<td style="text-align:center">DATE_ADD()</td>
<td style="text-align:center">想日期减去指定的时间间隔</td>
</tr>
<tr>
<td style="text-align:center">DATE_SUB()</td>
<td style="text-align:center">从日期减去指定的时间间隔</td>
</tr>
<tr>
<td style="text-align:center">DATEDIFF()</td>
<td style="text-align:center">返回连个日期之间的天数</td>
</tr>
<tr>
<td style="text-align:center">DATE_FORMAT()</td>
<td style="text-align:center">用不同格式显示日期/时间</td>
</tr>
</tbody>
</table>
<ul>
<li>SQL Date数据类型<ul>
<li>DATE-格式：YYYY-MM-DD</li>
<li>DATETIME-格式：YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP-格式：YYYY-MM-DD HH:MM:SS</li>
<li>YEAR-格式：YYYY或YY</li>
</ul>
</li>
</ul>
<h2 id="SQL通用数据类型"><a href="#SQL通用数据类型" class="headerlink" title="SQL通用数据类型"></a>SQL通用数据类型</h2><ul>
<li><a href="http://www.runoob.com/sql/sql-datatypes-general.html" target="_blank" rel="noopener">参考链接</a></li>
<li><a href="http://www.runoob.com/sql/sql-datatypes.html" target="_blank" rel="noopener">参考连接</a></li>
</ul>
<h2 id="SQL-AVG-函数：返回数值列的平均值"><a href="#SQL-AVG-函数：返回数值列的平均值" class="headerlink" title="SQL AVG()函数：返回数值列的平均值"></a>SQL AVG()函数：返回数值列的平均值</h2><ul>
<li>从access_log表的count列获取平均值  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select avg(count) as CountAverage from access_log;</span><br><span class="line">+--------------+</span><br><span class="line">| CountAverage |</span><br><span class="line">+--------------+</span><br><span class="line">|     174.3333 |</span><br><span class="line">+--------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">选择访问量高于平均值的site_id和count</span><br><span class="line">mysql&gt; select site_id, count from access_log <span class="built_in">where</span> count &gt; (select avg(count) from access_log);</span><br><span class="line">+---------+-------+</span><br><span class="line">| site_id | count |</span><br><span class="line">+---------+-------+</span><br><span class="line">|       1 |   230 |</span><br><span class="line">|       5 |   205 |</span><br><span class="line">|       3 |   220 |</span><br><span class="line">|       5 |   545 |</span><br><span class="line">|       3 |   201 |</span><br><span class="line">+---------+-------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="COUNT-函数"><a href="#COUNT-函数" class="headerlink" title="COUNT()函数"></a>COUNT()函数</h2><ul>
<li><p>返回匹配指定条件的行数</p>
<ul>
<li><p>返回指定列的值的数目（NULL不计入）：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(column_name) <span class="keyword">FROM</span> table_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回表中的记录数</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(*) <span class="keyword">FROM</span> table_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回指定列的不同值得数目</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> column_name) <span class="keyword">FROM</span> table_name</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(site_id) as nums from access_log;</span><br><span class="line">+------+</span><br><span class="line">| nums |</span><br><span class="line">+------+</span><br><span class="line">|    9 |</span><br><span class="line">+------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">计算access_log表中不同site_id的记录数：</span><br><span class="line">mysql&gt; select count(distinct site_id) as nums from access_log;</span><br><span class="line">+------+</span><br><span class="line">| nums |</span><br><span class="line">+------+</span><br><span class="line">|    5 |</span><br><span class="line">+------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="LIMIT"><a href="#LIMIT" class="headerlink" title="LIMIT"></a>LIMIT</h2><ul>
<li><p>返回指定列中第一个记录的值</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name as FirstSite from websites <span class="built_in">limit</span> 1;</span><br><span class="line">+-----------+</span><br><span class="line">| FirstSite |</span><br><span class="line">+-----------+</span><br><span class="line">| Google    |</span><br><span class="line">+-----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回指定列中最后一个值</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name as LastName from websites order by id desc <span class="built_in">limit</span> 1;</span><br><span class="line">+---------------+</span><br><span class="line">| LastName      |</span><br><span class="line">+---------------+</span><br><span class="line">| stackoverflow |</span><br><span class="line">+---------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="MAX-函数"><a href="#MAX-函数" class="headerlink" title="MAX()函数"></a>MAX()函数</h2><ul>
<li>返回指定列的最大值  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select max(alexa) as max_alexa from websites;</span><br><span class="line">+-----------+</span><br><span class="line">| max_alexa |</span><br><span class="line">+-----------+</span><br><span class="line">|      4689 |</span><br><span class="line">+-----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="MIN-函数"><a href="#MIN-函数" class="headerlink" title="MIN()函数"></a>MIN()函数</h2><ul>
<li>返回指定列的最小值  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select min(alexa) as min_alexa from websites;</span><br><span class="line">+-----------+</span><br><span class="line">| min_alexa |</span><br><span class="line">+-----------+</span><br><span class="line">|         0 |</span><br><span class="line">+-----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SUM-函数"><a href="#SUM-函数" class="headerlink" title="SUM()函数"></a>SUM()函数</h2><ul>
<li>返回列的总数<ul>
<li>查找access_log表中的count字段总数<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sum(count) as nums from access_log;</span><br><span class="line">+------+</span><br><span class="line">| nums |</span><br><span class="line">+------+</span><br><span class="line">| 1569 |</span><br><span class="line">+------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="GROUP-BY语句"><a href="#GROUP-BY语句" class="headerlink" title="GROUP BY语句"></a>GROUP BY语句</h2><ul>
<li>用于结合聚合函数，根据一个或多个列对结果集进行分组。  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select site_id, sum(access_log.count) as nums from access_log group by site_id;</span><br><span class="line">+---------+------+</span><br><span class="line">| site_id | nums |</span><br><span class="line">+---------+------+</span><br><span class="line">|       1 |  275 |</span><br><span class="line">|       2 |   10 |</span><br><span class="line">|       3 |  521 |</span><br><span class="line">|       4 |   13 |</span><br><span class="line">|       5 |  750 |</span><br><span class="line">+---------+------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; select websites.name, count(access_log.aid) as nums from access_log left join websites on access_log.site_id=websites.id group by websites.name;</span><br><span class="line">+--------------+------+</span><br><span class="line">| name         | nums |</span><br><span class="line">+--------------+------+</span><br><span class="line">| Facebook     |    2 |</span><br><span class="line">| Google       |    2 |</span><br><span class="line">| 微博         |    1 |</span><br><span class="line">| 淘宝         |    1 |</span><br><span class="line">| 菜鸟教程     |    3 |</span><br><span class="line">+--------------+------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="HAVING子句"><a href="#HAVING子句" class="headerlink" title="HAVING子句"></a>HAVING子句</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">select websites.name, sum(access_log.count) as nums from websites inner join access_log on websites.id=access_log.site_id group by websites.name having sum(access_log.count) &gt; 200;</span><br><span class="line">select websites.name, sum(access_log.count) as nums from websites inner join access_log on access_log.site_id=websites.id group by websites.name having sum(access_log.count) &gt; 200;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; select websites.name, sum(access_log.count) as nums from websites inner join access_log</span><br><span class="line">-&gt; on websites.id=access_log.site_id</span><br><span class="line">-&gt; <span class="built_in">where</span> websites.alexa &lt; 200</span><br><span class="line">-&gt; group by websites.name</span><br><span class="line">-&gt; having sum(access_log.count) &gt; 200;</span><br><span class="line">+----------+------+</span><br><span class="line">| name     | nums |</span><br><span class="line">+----------+------+</span><br><span class="line">| Facebook |  750 |</span><br><span class="line">| Google   |  275 |</span><br><span class="line">+----------+------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<h2 id="UCASE-函数"><a href="#UCASE-函数" class="headerlink" title="UCASE()函数"></a>UCASE()函数</h2><ul>
<li>把字段值转换成大写  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;     select ucase(name) as site_title, url from websites;</span><br><span class="line">+---------------+---------------------------+</span><br><span class="line">| site_title    | url                       |</span><br><span class="line">+---------------+---------------------------+</span><br><span class="line">| GOOGLE        | https://www.google.cm/    |</span><br><span class="line">| 淘宝          | https://www.taobao.com/   |</span><br><span class="line">| 菜鸟教程      | http://www.runoob.com/    |</span><br><span class="line">| 微博          | http://weibo.com/         |</span><br><span class="line">| FACEBOOK      | https://www.facebook.com/ |</span><br><span class="line">| STACKOVERFLOW | http://stackoverflow.com/ |</span><br><span class="line">+---------------+---------------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="LCASE-函数"><a href="#LCASE-函数" class="headerlink" title="LCASE()函数"></a>LCASE()函数</h2><ul>
<li>把字段值转化为小写  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;     select lcase(name) as site_title, url from websites;</span><br><span class="line">+---------------+---------------------------+</span><br><span class="line">| site_title    | url                       |</span><br><span class="line">+---------------+---------------------------+</span><br><span class="line">| google        | https://www.google.cm/    |</span><br><span class="line">| 淘宝          | https://www.taobao.com/   |</span><br><span class="line">| 菜鸟教程      | http://www.runoob.com/    |</span><br><span class="line">| 微博          | http://weibo.com/         |</span><br><span class="line">| facebook      | https://www.facebook.com/ |</span><br><span class="line">| stackoverflow | http://stackoverflow.com/ |</span><br><span class="line">+---------------+---------------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="MID-函数"><a href="#MID-函数" class="headerlink" title="MID()函数"></a>MID()函数</h2><ul>
<li>从文本字段中提取字符  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select mid(name, 1, 3) as ShortTitle from websites;</span><br><span class="line">+------------+</span><br><span class="line">| ShortTitle |</span><br><span class="line">+------------+</span><br><span class="line">| Goo        |</span><br><span class="line">| 淘宝       |</span><br><span class="line">| 菜鸟教     |</span><br><span class="line">| 微博       |</span><br><span class="line">| Fac        |</span><br><span class="line">| sta        |</span><br><span class="line">+------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="LEN-函数"><a href="#LEN-函数" class="headerlink" title="LEN()函数"></a>LEN()函数</h2><ul>
<li>返回文本字段中值的长度  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name, LENGTH(url) as LengthOfUrl from websites;</span><br><span class="line">+---------------+-------------+</span><br><span class="line">| name          | LengthOfUrl |</span><br><span class="line">+---------------+-------------+</span><br><span class="line">| Google        |          22 |</span><br><span class="line">| 淘宝          |          23 |</span><br><span class="line">| 菜鸟教程      |          22 |</span><br><span class="line">| 微博          |          17 |</span><br><span class="line">| Facebook      |          25 |</span><br><span class="line">| stackoverflow |          25 |</span><br><span class="line">+---------------+-------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ROUND-函数"><a href="#ROUND-函数" class="headerlink" title="ROUND()函数"></a>ROUND()函数</h2><ul>
<li>用于把数值字段舍入为指定的小数位数  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">返回参数X的四舍五入的一个整数。</span><br><span class="line">mysql&gt; select round(-1.58);</span><br><span class="line">+--------------+</span><br><span class="line">| round(-1.58) |</span><br><span class="line">+--------------+</span><br><span class="line">|           -2 |</span><br><span class="line">+--------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">ROUND(X,D)：返回参数X的四舍五入的有 D 位小数的一个数字。如果D为0，结果将没有小数点或小数部分。</span><br><span class="line">mysql&gt; select round(1.2786, 1);</span><br><span class="line">+------------------+</span><br><span class="line">| round(1.2786, 1) |</span><br><span class="line">+------------------+</span><br><span class="line">|              1.3 |</span><br><span class="line">+------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="NOW-函数"><a href="#NOW-函数" class="headerlink" title="NOW()函数"></a>NOW()函数</h2><ul>
<li>返回当前系统的日期和时间  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;     select name, url, now() as date from websites;</span><br><span class="line">+---------------+---------------------------+---------------------+</span><br><span class="line">| name          | url                       | date                |</span><br><span class="line">+---------------+---------------------------+---------------------+</span><br><span class="line">| Google        | https://www.google.cm/    | 2018-10-21 17:16:57 |</span><br><span class="line">| 淘宝          | https://www.taobao.com/   | 2018-10-21 17:16:57 |</span><br><span class="line">| 菜鸟教程      | http://www.runoob.com/    | 2018-10-21 17:16:57 |</span><br><span class="line">| 微博          | http://weibo.com/         | 2018-10-21 17:16:57 |</span><br><span class="line">| Facebook      | https://www.facebook.com/ | 2018-10-21 17:16:57 |</span><br><span class="line">| stackoverflow | http://stackoverflow.com/ | 2018-10-21 17:16:57 |</span><br><span class="line">+---------------+---------------------------+---------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="FORMAT-函数"><a href="#FORMAT-函数" class="headerlink" title="FORMAT()函数"></a>FORMAT()函数</h2><ul>
<li>用于对字段进行格式化  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name, url, date_format(now(), <span class="string">'%Y-%m-%d'</span>) as date from websites;</span><br><span class="line">+---------------+---------------------------+------------+</span><br><span class="line">| name          | url                       | date       |</span><br><span class="line">+---------------+---------------------------+------------+</span><br><span class="line">| Google        | https://www.google.cm/    | 2018-10-21 |</span><br><span class="line">| 淘宝          | https://www.taobao.com/   | 2018-10-21 |</span><br><span class="line">| 菜鸟教程      | http://www.runoob.com/    | 2018-10-21 |</span><br><span class="line">| 微博          | http://weibo.com/         | 2018-10-21 |</span><br><span class="line">| Facebook      | https://www.facebook.com/ | 2018-10-21 |</span><br><span class="line">| stackoverflow | http://stackoverflow.com/ | 2018-10-21 |</span><br><span class="line">+---------------+---------------------------+------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/14/大数据学习笔记-Hive/" rel="next" title="大数据学习笔记-Hive">
                <i class="fa fa-chevron-left"></i> 大数据学习笔记-Hive
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/22/sqlzoo-practice/" rel="prev" title="sqlzoo-practice">
                sqlzoo-practice <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      
        <div id="gitment-container"></div>
      
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar-6.png" alt="Jony Chiao">
            
              <p class="site-author-name" itemprop="name">Jony Chiao</p>
              <p class="site-description motion-element" itemprop="description">bulabula</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">82</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/jiaoqiyuan" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:jijujiu@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#表1：-websites"><span class="nav-number">1.</span> <span class="nav-text">表1： websites</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表2：access-log"><span class="nav-number">2.</span> <span class="nav-text">表2：access_log</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表3：apps"><span class="nav-number">3.</span> <span class="nav-text">表3：apps</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#查看表结构"><span class="nav-number">3.1.</span> <span class="nav-text">查看表结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LIMIT语句"><span class="nav-number">3.2.</span> <span class="nav-text">LIMIT语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LIKE语句：LIKE-操作符用于在-WHERE-子句中搜索列中的指定模式。"><span class="nav-number">3.3.</span> <span class="nav-text">LIKE语句：LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL通配符"><span class="nav-number">3.4.</span> <span class="nav-text">SQL通配符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IN操作符：N-操作符允许在-WHERE-子句中规定多个值"><span class="nav-number">3.5.</span> <span class="nav-text">IN操作符：N 操作符允许在 WHERE 子句中规定多个值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BETWEEN操作符"><span class="nav-number">3.6.</span> <span class="nav-text">BETWEEN操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#别名"><span class="nav-number">3.7.</span> <span class="nav-text">别名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JOIN：SQL-JOIN-子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。"><span class="nav-number">3.8.</span> <span class="nav-text">JOIN：SQL JOIN 子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UNION操作符：合并两个或多个-SELECT-语句的结果。"><span class="nav-number">3.9.</span> <span class="nav-text">UNION操作符：合并两个或多个 SELECT 语句的结果。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-SELECT-INTO-语句-从一个表复制数据，然后把数据插入到另一个新表中。"><span class="nav-number">3.10.</span> <span class="nav-text">SQL SELECT INTO 语句:从一个表复制数据，然后把数据插入到另一个新表中。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-INSERT-INTO-SELECT-语句-从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。"><span class="nav-number">3.11.</span> <span class="nav-text">SQL INSERT INTO SELECT 语句:从一个表复制数据，然后把数据插入到一个已存在的表中。目标表中任何已存在的行都不会受影响。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建数据库：create-database-my-db"><span class="nav-number">3.12.</span> <span class="nav-text">创建数据库：create database my_db</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建表"><span class="nav-number">3.13.</span> <span class="nav-text">创建表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL约束"><span class="nav-number">3.14.</span> <span class="nav-text">SQL约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NOT-NULL约束"><span class="nav-number">3.14.1.</span> <span class="nav-text">NOT NULL约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NUIQUE约束"><span class="nav-number">3.14.2.</span> <span class="nav-text">NUIQUE约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-PRIMARY-KEY-约束"><span class="nav-number">3.14.3.</span> <span class="nav-text">SQL PRIMARY KEY 约束</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-FOREIGN-KEY-约束-一个表中的-FOREIGN-KEY-指向另一个表中的-UNIQUE-KEY-唯一约束的键-。"><span class="nav-number">3.15.</span> <span class="nav-text">SQL FOREIGN KEY 约束:一个表中的 FOREIGN KEY 指向另一个表中的 UNIQUE KEY(唯一约束的键)。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-CHECK-约束"><span class="nav-number">3.16.</span> <span class="nav-text">SQL CHECK 约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DEFAULT约束"><span class="nav-number">3.17.</span> <span class="nav-text">DEFAULT约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CREATE-INDEX语句"><span class="nav-number">3.18.</span> <span class="nav-text">CREATE INDEX语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#撤销索引、撤销表以及撤销数据库"><span class="nav-number">3.19.</span> <span class="nav-text">撤销索引、撤销表以及撤销数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ALTER-TABLE语句-在已有的表中添加、删除或修改列"><span class="nav-number">3.20.</span> <span class="nav-text">ALTER TABLE语句:在已有的表中添加、删除或修改列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AUTO-INCREMENT字段"><span class="nav-number">3.21.</span> <span class="nav-text">AUTO_INCREMENT字段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-Date-函数：日期"><span class="nav-number">3.22.</span> <span class="nav-text">SQL Date 函数：日期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL通用数据类型"><span class="nav-number">3.23.</span> <span class="nav-text">SQL通用数据类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-AVG-函数：返回数值列的平均值"><span class="nav-number">3.24.</span> <span class="nav-text">SQL AVG()函数：返回数值列的平均值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#COUNT-函数"><span class="nav-number">3.25.</span> <span class="nav-text">COUNT()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LIMIT"><span class="nav-number">3.26.</span> <span class="nav-text">LIMIT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MAX-函数"><span class="nav-number">3.27.</span> <span class="nav-text">MAX()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MIN-函数"><span class="nav-number">3.28.</span> <span class="nav-text">MIN()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SUM-函数"><span class="nav-number">3.29.</span> <span class="nav-text">SUM()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GROUP-BY语句"><span class="nav-number">3.30.</span> <span class="nav-text">GROUP BY语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HAVING子句"><span class="nav-number">3.31.</span> <span class="nav-text">HAVING子句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UCASE-函数"><span class="nav-number">3.32.</span> <span class="nav-text">UCASE()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LCASE-函数"><span class="nav-number">3.33.</span> <span class="nav-text">LCASE()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MID-函数"><span class="nav-number">3.34.</span> <span class="nav-text">MID()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LEN-函数"><span class="nav-number">3.35.</span> <span class="nav-text">LEN()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ROUND-函数"><span class="nav-number">3.36.</span> <span class="nav-text">ROUND()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NOW-函数"><span class="nav-number">3.37.</span> <span class="nav-text">NOW()函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FORMAT-函数"><span class="nav-number">3.38.</span> <span class="nav-text">FORMAT()函数</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jony Chiao</span>

  
</div>





        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
